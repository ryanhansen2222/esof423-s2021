<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_13) on Fri Jan 08 15:51:15 CET 2010 -->
<TITLE>
ApplicationLogic
</TITLE>

<META NAME="date" CONTENT="2010-01-08">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ApplicationLogic";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../Participation/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../Participation/ApplicationLogic.Counter.html" title="class in Participation"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?Participation/ApplicationLogic.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ApplicationLogic.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
Participation</FONT>
<BR>
Class ApplicationLogic</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>Participation.ApplicationLogic</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.io.Serializable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ApplicationLogic</B><DT>extends java.lang.Object<DT>implements java.io.Serializable</DL>
</PRE>

<P>
This class implements the logic of the "Foo's Participation System". 
 
 <h4>Background</h4>
  
 This Foo System is not a real business system; it is just a simulation
 for your training purpose. It manages a set of <it> customers</it>, 
 <it> services</it>, and customers' <it>participations</it> on 
 services. It provides basic functionalities, e.g. to add and remove 
 customers, services, etc.  A 'service' here represents some business, 
 e.g. an online shop, or a pizza restaurant. The application provides 
 a functionality to let a customer add/buy a participation to a service. 
 In the real life this means that the customer would be charged for 
 daily contribution to the services he participates in. In exchange he 
 will get a proportional share of the services' profit. He can drop 
 participation at any time. 
 
 <p>Currently profit calculation is not included in the system, but 
 it does calculate the contribution cost for each customer. Furthermore,
 there is a functionality to award discount tokens to customers; these
 give them reduction on the contribution cost they have to pay. The
 application provides a functionality to 'resolve', intended to be
 invoked by the application owner at the end of every day. It will
 calculate the contribution cost of each customer, taking the discount
 tokens into account.
 
 The user interface to this Foo System is implemented by the class
 <CODE>ParticipationSystem</CODE>. As said, this class implements the logic
 part of the system.
 
 <h4>About this class</h4>
 
 The business data is stored in a database, using db4o OO-database. Access 
 to this database goes by the way through the <A HREF="../Participation/Persistence.html" title="class in Participation"><CODE>Persistence</CODE></A> 
 class. 
 
 <p>This ApplicationLogic class offer functionalities such as to pull 
 a customer from the database, to add a new one, or to remove an existing one. 
 There are similar functionalities for services. We can also
 add a participation to a customer, or delete it, and we can award a bonus token
 to a customer, or remove it.
 
 <p>Finally there is a method <A HREF="../Participation/ApplicationLogic.html#resolve()"><CODE>resolve()</CODE></A> that will apply all applicable 
 bonus tokens, and calculate the contribution cost per customer. Those tokens 
 are then consumed.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../serialized-form.html#Participation.ApplicationLogic">Serialized Form</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.Counter.html" title="class in Participation">ApplicationLogic.Counter</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An inner class to keep track of fresh IDs for customer, service, 
 and participation.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#D1000">D1000</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Just a string-code for <A HREF="../Participation/Discount_1000.html" title="class in Participation"><CODE>Discount_1000</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#D5p">D5p</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A string-code for <A HREF="../Participation/Discount_5pack.html" title="class in Participation"><CODE>Discount_5pack</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#ApplicationLogic()">ApplicationLogic</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A constructor to create an instance of this class.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#addCustomer(java.lang.String, java.lang.String)">addCustomer</A></B>(java.lang.String&nbsp;name,
            java.lang.String&nbsp;email)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new customer with the given name and email.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#addParticipation(int, int)">addParticipation</A></B>(int&nbsp;custID,
                 int&nbsp;servID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new participation by the given customer for the given
 service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#addService(java.lang.String, int)">addService</A></B>(java.lang.String&nbsp;name,
           int&nbsp;price)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a new service with the given name and price (in Euro-cent).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#awardDiscount(int, java.lang.String)">awardDiscount</A></B>(int&nbsp;custID,
              java.lang.String&nbsp;discountCode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Award a discount token to the given customer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#costToPay(int)">costToPay</A></B>(int&nbsp;custID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the customer's total contribution cost, after discount.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#custExists(int)">custExists</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if a customer with the given id exists in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#discount(int)">discount</A></B>(int&nbsp;custID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the customer's total discount value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#dropParticipation(int, int)">dropParticipation</A></B>(int&nbsp;custID,
                  int&nbsp;servID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will drop one participation of a customer on a service.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../Participation/Customer.html" title="class in Participation">Customer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#findCustomer(int)">findCustomer</A></B>(int&nbsp;custID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a customer with the given ID in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../Participation/Customer.html" title="class in Participation">Customer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#findCustomer(java.lang.String, java.lang.String)">findCustomer</A></B>(java.lang.String&nbsp;name,
             java.lang.String&nbsp;email)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a customer with the given name and email in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../Participation/Service.html" title="class in Participation">Service</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#findService(int)">findService</A></B>(int&nbsp;servID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a service with the given ID in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../Participation/Customer.html" title="class in Participation">Customer</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#getCustomers()">getCustomers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the list of all customers stored in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../Participation/Service.html" title="class in Participation">Service</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#getServices()">getServices</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the list of all services stored in the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#participationValue(int)">participationValue</A></B>(int&nbsp;custID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the total paticipation's value (his total contribution cost 
 before discount) of the given customer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#remDiscount(int, java.lang.String)">remDiscount</A></B>(int&nbsp;custID,
            java.lang.String&nbsp;discountCode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a discount token to the given customer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#removeCustomer(int)">removeCustomer</A></B>(int&nbsp;custID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the customer of the given ID from the database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#removeService(int)">removeService</A></B>(int&nbsp;servID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove the service with the given ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;<A HREF="../Participation/Customer.html" title="class in Participation">Customer</A>,java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#resolve()">resolve</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is used to conclude a day trading.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../Participation/ApplicationLogic.html#serviceExists(int)">serviceExists</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check if a service with the given id exists.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="D1000"><!-- --></A><H3>
D1000</H3>
<PRE>
public static final java.lang.String <B>D1000</B></PRE>
<DL>
<DD>Just a string-code for <A HREF="../Participation/Discount_1000.html" title="class in Participation"><CODE>Discount_1000</CODE></A>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#Participation.ApplicationLogic.D1000">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="D5p"><!-- --></A><H3>
D5p</H3>
<PRE>
public static final java.lang.String <B>D5p</B></PRE>
<DL>
<DD>A string-code for <A HREF="../Participation/Discount_5pack.html" title="class in Participation"><CODE>Discount_5pack</CODE></A>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#Participation.ApplicationLogic.D5p">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ApplicationLogic()"><!-- --></A><H3>
ApplicationLogic</H3>
<PRE>
public <B>ApplicationLogic</B>()</PRE>
<DL>
<DD>A constructor to create an instance of this class. It will also configure the 
 database.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getCustomers()"><!-- --></A><H3>
getCustomers</H3>
<PRE>
public java.util.List&lt;<A HREF="../Participation/Customer.html" title="class in Participation">Customer</A>&gt; <B>getCustomers</B>()</PRE>
<DL>
<DD>Return the list of all customers stored in the database.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getServices()"><!-- --></A><H3>
getServices</H3>
<PRE>
public java.util.List&lt;<A HREF="../Participation/Service.html" title="class in Participation">Service</A>&gt; <B>getServices</B>()</PRE>
<DL>
<DD>Return the list of all services stored in the database.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findCustomer(int)"><!-- --></A><H3>
findCustomer</H3>
<PRE>
public <A HREF="../Participation/Customer.html" title="class in Participation">Customer</A> <B>findCustomer</B>(int&nbsp;custID)</PRE>
<DL>
<DD>Find a customer with the given ID in the database. It 
 returns the customer, or null if it can't be found.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="custExists(int)"><!-- --></A><H3>
custExists</H3>
<PRE>
public boolean <B>custExists</B>(int&nbsp;id)</PRE>
<DL>
<DD>Check if a customer with the given id exists in the database.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findCustomer(java.lang.String, java.lang.String)"><!-- --></A><H3>
findCustomer</H3>
<PRE>
public <A HREF="../Participation/Customer.html" title="class in Participation">Customer</A> <B>findCustomer</B>(java.lang.String&nbsp;name,
                             java.lang.String&nbsp;email)</PRE>
<DL>
<DD>Find a customer with the given name and email in the database.
 It returns the customer, or null if he cannot be found.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findService(int)"><!-- --></A><H3>
findService</H3>
<PRE>
public <A HREF="../Participation/Service.html" title="class in Participation">Service</A> <B>findService</B>(int&nbsp;servID)</PRE>
<DL>
<DD>Find a service with the given ID in the database. It 
 returns the service, or null if it can't be found.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="serviceExists(int)"><!-- --></A><H3>
serviceExists</H3>
<PRE>
public boolean <B>serviceExists</B>(int&nbsp;id)</PRE>
<DL>
<DD>Check if a service with the given id exists.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addCustomer(java.lang.String, java.lang.String)"><!-- --></A><H3>
addCustomer</H3>
<PRE>
public int <B>addCustomer</B>(java.lang.String&nbsp;name,
                       java.lang.String&nbsp;email)</PRE>
<DL>
<DD>Add a new customer with the given name and email. This succeeds if 
 no customer with the same combination of name and email already
 exists in the database. The new customer will get his ID, and this
 method will return this ID.
 
 <p>If however there is already a customer in the database with the
 same combination of name and email, no new customer will be added,
 and this method will return -1.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeCustomer(int)"><!-- --></A><H3>
removeCustomer</H3>
<PRE>
public void <B>removeCustomer</B>(int&nbsp;custID)</PRE>
<DL>
<DD>Remove the customer of the given ID from the database. All his 
 participations will also be removed (cascade removal).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addService(java.lang.String, int)"><!-- --></A><H3>
addService</H3>
<PRE>
public int <B>addService</B>(java.lang.String&nbsp;name,
                      int&nbsp;price)</PRE>
<DL>
<DD>Add a new service with the given name and price (in Euro-cent).
 It succeeds if no service with the same name already exists in
 the database. The new service is the added. It gets an ID, and
 this ID will be returned.
 
 <p>If a service with the same name already exists, no new service
 will be added. This method then returns -1.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>price</CODE> - Should be non-negative.</DL>
</DD>
</DL>
<HR>

<A NAME="removeService(int)"><!-- --></A><H3>
removeService</H3>
<PRE>
public void <B>removeService</B>(int&nbsp;servID)</PRE>
<DL>
<DD>Remove the service with the given ID. It should remove all participations
 to that service as well.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addParticipation(int, int)"><!-- --></A><H3>
addParticipation</H3>
<PRE>
public boolean <B>addParticipation</B>(int&nbsp;custID,
                                int&nbsp;servID)</PRE>
<DL>
<DD>Add a new participation by the given customer for the given
 service. This is only possible if the IDs passed are valid
 IDs. The method then return true, else it returns false.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="awardDiscount(int, java.lang.String)"><!-- --></A><H3>
awardDiscount</H3>
<PRE>
public boolean <B>awardDiscount</B>(int&nbsp;custID,
                             java.lang.String&nbsp;discountCode)</PRE>
<DL>
<DD>Award a discount token to the given customer. It succeeds if the ID
 and the discount-code passed are valid ID/code. In that case it will
 return true, and else false.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="remDiscount(int, java.lang.String)"><!-- --></A><H3>
remDiscount</H3>
<PRE>
public boolean <B>remDiscount</B>(int&nbsp;custID,
                           java.lang.String&nbsp;discountCode)</PRE>
<DL>
<DD>Remove a discount token to the given customer. It succeeds if the ID
 and the discount-code passed are valid ID/code. In that case it will
 return true, and else false.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="dropParticipation(int, int)"><!-- --></A><H3>
dropParticipation</H3>
<PRE>
public void <B>dropParticipation</B>(int&nbsp;custID,
                              int&nbsp;servID)</PRE>
<DL>
<DD>Will drop one participation of a customer on a service.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="participationValue(int)"><!-- --></A><H3>
participationValue</H3>
<PRE>
public int <B>participationValue</B>(int&nbsp;custID)</PRE>
<DL>
<DD>Return the total paticipation's value (his total contribution cost 
 before discount) of the given customer. 
 Return -1 if the passed customer ID is not valid.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="discount(int)"><!-- --></A><H3>
discount</H3>
<PRE>
public int <B>discount</B>(int&nbsp;custID)</PRE>
<DL>
<DD>Return the customer's total discount value. Return -1 if the customer ID
 is not valid.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="costToPay(int)"><!-- --></A><H3>
costToPay</H3>
<PRE>
public int <B>costToPay</B>(int&nbsp;custID)</PRE>
<DL>
<DD>Return the customer's total contribution cost, after discount. Return -1 if the customer ID
 is not valid.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resolve()"><!-- --></A><H3>
resolve</H3>
<PRE>
public java.util.Map&lt;<A HREF="../Participation/Customer.html" title="class in Participation">Customer</A>,java.lang.Integer&gt; <B>resolve</B>()</PRE>
<DL>
<DD>This is used to conclude a day trading. This calculates for each customer
 in the database, the contribution cost he has to pay, then consumes 
 all applicable discount tokens.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../Participation/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../Participation/ApplicationLogic.Counter.html" title="class in Participation"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?Participation/ApplicationLogic.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ApplicationLogic.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
